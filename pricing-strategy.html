<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TogetherWe Pricing - Choose Your Relationship Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'purple': {
                            50: '#faf5ff',
                            100: '#f3e8ff',
                            200: '#e9d5ff',
                            300: '#d8b4fe',
                            400: '#c084fc',
                            500: '#a855f7',
                            600: '#9333ea',
                            700: '#7c3aed',
                            800: '#6b21a8',
                            900: '#581c87',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #9333ea, #ec4899, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #7c3aed, #ec4899, #dc2626);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .selected-card {
            transform: scale(1.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .addon-card {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .addon-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .addon-card.selected {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }
        
        .addon-funny { border-color: #f59e0b; }
        .addon-funny:hover, .addon-funny.selected { 
            border-color: #f59e0b; 
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
        }
        
        .addon-tough { border-color: #dc2626; }
        .addon-tough:hover, .addon-tough.selected { 
            border-color: #dc2626; 
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            color: #991b1b;
        }
        
        .addon-ringside { border-color: #059669; }
        .addon-ringside:hover, .addon-ringside.selected { 
            border-color: #059669; 
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: #064e3b;
        }
        
        .addon-psychosexual { border-color: #7c2d92; }
        .addon-psychosexual:hover, .addon-psychosexual.selected { 
            border-color: #7c2d92; 
            background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
            color: #581c87;
        }
        
        .addon-relational { border-color: #2563eb; }
        .addon-relational:hover, .addon-relational.selected { 
            border-color: #2563eb; 
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            color: #1e3a8a;
        }
        
        .addon-selfsync { border-color: #0891b2; }
        .addon-selfsync:hover, .addon-selfsync.selected { 
            border-color: #0891b2; 
            background: linear-gradient(135deg, #cffafe, #a5f3fc);
            color: #164e63;
        }

        /* Additional responsive design enhancements */
        @media (max-width: 768px) {
            .container {
                width: 100%;
                padding: 0 1rem;
            }
            
            .pricing-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .gradient-text {
                font-size: 2rem;
                line-height: 1.2;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 0.75rem;
            }
            
            .gradient-text {
                font-size: 1.75rem;
            }
            
            .card-hover {
                padding: 1rem;
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300">
    <!-- Hero Section -->
    <div class="relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-bold gradient-text mb-6">
                    Choose Your Relationship Journey
                </h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-8">
                    AI-powered couples therapy that adapts to your unique relationship dynamics. 
                    Start with any tier and upgrade as your love grows stronger.
                </p>
                
                <!-- Discount Badges -->
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button onclick="toggleDiscount('student')" id="student-btn" 
                            class="flex items-center px-4 py-2 rounded-full transition-colors bg-blue-100 text-blue-700 hover:bg-blue-200">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm1 3v6a1 1 0 001 1h10a1 1 0 001-1V7H4z" clip-rule="evenodd"/>
                        </svg>
                        Student Discount (20% off)
                    </button>
                    <button onclick="toggleDiscount('military')" id="military-btn"
                            class="flex items-center px-4 py-2 rounded-full transition-colors bg-green-100 text-green-700 hover:bg-green-200">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        Military Discount (25% off)
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pricing Tiers -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-12" id="pricing-grid">
            <!-- Free Trial -->
            <div class="relative p-6 rounded-xl border-2 transition-all card-hover border-gray-200 hover:border-purple-300" onclick="selectTier('free')">
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-12 h-12 rounded-full text-white mb-4 bg-gray-600">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z" clip-rule="evenodd"/>
                        </svg>
                    </div>

                    <h3 class="text-xl font-bold text-gray-900 mb-2">Free Trial</h3>
                    <p class="text-gray-600 mb-4">Experience TogetherWe basics</p>

                    <div class="mb-6">
                        <span class="text-3xl font-bold text-gray-900">$0</span>
                        <span class="text-lg text-gray-500 line-through ml-2">$1.99</span>
                        <span class="text-gray-600">/month</span>
                    </div>

                    <ul class="space-y-2 mb-6 text-left">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Basic voice feedback</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">7-day trial</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Limited AI responses</span>
                        </li>
                    </ul>

                    <button class="w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-100 text-gray-900 hover:bg-gray-200">
                        Choose Plan
                    </button>
                </div>
            </div>

            <!-- Warm Depths -->
            <div class="relative p-6 rounded-xl border-2 transition-all card-hover border-gray-200 hover:border-purple-300" onclick="selectTier('warm-depths')">
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-12 h-12 rounded-full text-white mb-4 bg-blue-600">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                        </svg>
                    </div>

                    <h3 class="text-xl font-bold text-gray-900 mb-2">Warm Depths</h3>
                    <p class="text-gray-600 mb-4">Perfect for new couples</p>

                    <div class="mb-6">
                        <span class="text-3xl font-bold text-gray-900">$4.99</span>
                        <span class="text-gray-600">/month</span>
                    </div>

                    <ul class="space-y-2 mb-6 text-left">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Light voice feedback</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Daily insights</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Basic personality matching</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Email support</span>
                        </li>
                    </ul>

                    <button class="w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-100 text-gray-900 hover:bg-gray-200">
                        Choose Plan
                    </button>
                </div>
            </div>

            <!-- Reflection Mode (Popular) -->
            <div class="relative p-6 rounded-xl border-2 transition-all card-hover border-purple-500 shadow-lg selected-card ring-2 ring-purple-400" onclick="selectTier('reflection-mode')">
                <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
                    <span class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-1 rounded-full text-sm font-semibold flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        Most Popular
                    </span>
                </div>

                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-12 h-12 rounded-full text-white mb-4 bg-purple-600">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"/>
                        </svg>
                    </div>

                    <h3 class="text-xl font-bold text-gray-900 mb-2">Reflection Mode</h3>
                    <p class="text-gray-600 mb-4">Most popular choice</p>

                    <div class="mb-6">
                        <span class="text-3xl font-bold text-gray-900">$9.99</span>
                        <span class="text-gray-600">/month</span>
                    </div>

                    <ul class="space-y-2 mb-6 text-left">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Premium AI feedback</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Deep personality analysis</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Daily relationship insights</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Pattern recognition</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Priority support</span>
                        </li>
                    </ul>

                    <button class="w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-purple-600 text-white">
                        Selected
                    </button>
                </div>
            </div>

            <!-- Raw Response -->
            <div class="relative p-6 rounded-xl border-2 transition-all card-hover border-gray-200 hover:border-purple-300" onclick="selectTier('raw-response')">
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-12 h-12 rounded-full text-white mb-4 bg-orange-600">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"/>
                        </svg>
                    </div>

                    <h3 class="text-xl font-bold text-gray-900 mb-2">Raw Response</h3>
                    <p class="text-gray-600 mb-4">Advanced relationship insights</p>

                    <div class="mb-6">
                        <span class="text-3xl font-bold text-gray-900">$15.99</span>
                        <span class="text-gray-600">/month</span>
                    </div>

                    <ul class="space-y-2 mb-6 text-left">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Enhanced processing</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Advanced analysis</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Real-time feedback</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Conflict resolution AI</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Video insights</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Phone support</span>
                        </li>
                    </ul>

                    <button class="w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-100 text-gray-900 hover:bg-gray-200">
                        Choose Plan
                    </button>
                </div>
            </div>

            <!-- Shadow Tier -->
            <div class="relative p-6 rounded-xl border-2 transition-all card-hover border-gray-200 hover:border-purple-300" onclick="selectTier('shadow-tier')">
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-12 h-12 rounded-full text-white mb-4 gradient-bg">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>

                    <h3 class="text-xl font-bold text-gray-900 mb-2">Shadow Tier</h3>
                    <p class="text-gray-600 mb-4">Ultimate relationship mastery</p>

                    <div class="mb-6">
                        <span class="text-3xl font-bold text-gray-900">$21.99</span>
                        <span class="text-gray-600">/month</span>
                    </div>

                    <ul class="space-y-2 mb-6 text-left">
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Full TTS & NLP loop</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Complete personality suite</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Crisis intervention</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Professional therapist backup</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">Custom AI training</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-5 h-5 text-green-500 mt-0.5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-gray-700">White-glove support</span>
                        </li>
                    </ul>

                    <button class="w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-100 text-gray-900 hover:bg-gray-200">
                        Choose Plan
                    </button>
                </div>
            </div>
        </div>

        <!-- Premium Bundles -->
        <div class="mb-12" id="premium-bundles" style="display: none;">
            <h2 class="text-3xl font-bold text-center mb-8">
                üéâ Premium Bundles - Save Up To 27%
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="p-6 rounded-xl border-2 transition-all cursor-pointer border-gray-200 hover:border-purple-300" onclick="selectBundle('premium-3')">
                    <div class="text-center">
                        <h3 class="text-xl font-bold mb-2">Premium 3 Bundle</h3>
                        <div class="mb-4">
                            <span class="text-3xl font-bold text-purple-600">$59.99</span>
                            <span class="text-lg text-gray-500 line-through ml-2">$79.96</span>
                            <div class="text-green-600 font-semibold">Save 25%</div>
                        </div>
                        <ul class="text-left space-y-1 text-sm text-gray-600">
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Reflection Mode
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                All Profiles
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Funny Guy Personality
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="p-6 rounded-xl border-2 transition-all cursor-pointer border-gray-200 hover:border-purple-300" onclick="selectBundle('premium-4')">
                    <div class="text-center">
                        <h3 class="text-xl font-bold mb-2">Premium 4 Bundle</h3>
                        <div class="mb-4">
                            <span class="text-3xl font-bold text-purple-600">$69.99</span>
                            <span class="text-lg text-gray-500 line-through ml-2">$95.95</span>
                            <div class="text-green-600 font-semibold">Save 27%</div>
                        </div>
                        <ul class="text-left space-y-1 text-sm text-gray-600">
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Raw Response
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                All Profiles
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Tough Guy Personality
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="p-6 rounded-xl border-2 transition-all cursor-pointer border-gray-200 hover:border-purple-300" onclick="selectBundle('premium-5')">
                    <div class="text-center">
                        <h3 class="text-xl font-bold mb-2">Premium 5 Bundle</h3>
                        <div class="mb-4">
                            <span class="text-3xl font-bold text-purple-600">$84.99</span>
                            <span class="text-lg text-gray-500 line-through ml-2">$115.94</span>
                            <div class="text-green-600 font-semibold">Save 27%</div>
                        </div>
                        <ul class="text-left space-y-1 text-sm text-gray-600">
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Shadow Tier
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                All Profiles
                            </li>
                            <li class="flex items-center">
                                <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                                Ringside Coach
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add-ons -->
        <div class="mb-12" id="addons-section" style="display: none;">
            <h2 class="text-2xl font-bold text-center mb-6">
                Enhance Your Experience
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="addon-card addon-funny p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('funny-guy')" id="addon-funny-guy">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Funny Guy Personality</h4>
                            <p class="text-sm text-gray-600">Light-hearted relationship coach</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$2.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>

                <div class="addon-card addon-tough p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('tough-guy')" id="addon-tough-guy">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Tough Guy Personality</h4>
                            <p class="text-sm text-gray-600">Direct, no-nonsense advice</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$2.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>

                <div class="addon-card addon-ringside p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('ringside-coach')" id="addon-ringside-coach">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Ringside Coach</h4>
                            <p class="text-sm text-gray-600">Play-by-play relationship commentary</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$3.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>

                <div class="addon-card addon-psychosexual p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('psychosexual')" id="addon-psychosexual">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Psychosexual Profile</h4>
                            <p class="text-sm text-gray-600">Deep intimacy analysis</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$4.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>

                <div class="addon-card addon-relational p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('relational')" id="addon-relational">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Relational Profile</h4>
                            <p class="text-sm text-gray-600">Communication pattern insights</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$4.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>

                <div class="addon-card addon-selfsync p-4 rounded-lg border cursor-pointer border-gray-200" onclick="toggleAddOn('self-sync')" id="addon-self-sync">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-semibold">Self-Sync Reflection</h4>
                            <p class="text-sm text-gray-600">Personal growth tracking</p>
                        </div>
                        <div class="text-right">
                            <div class="font-bold">$3.99</div>
                            <input type="checkbox" class="mt-1">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Summary & Checkout -->
        <div class="max-w-2xl mx-auto">
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4">Order Summary</h3>
                
                <div class="space-y-2 mb-4" id="order-items">
                    <div class="flex justify-between">
                        <span>Reflection Mode</span>
                        <span>$9.99</span>
                    </div>
                </div>

                <div id="discount-line" class="hidden">
                    <div class="flex justify-between text-green-600 font-semibold">
                        <span id="discount-type">Student Discount</span>
                        <span id="discount-amount">-$2.00</span>
                    </div>
                </div>

                <div class="border-t pt-2 mt-4">
                    <div class="flex justify-between text-xl font-bold">
                        <span>Total</span>
                        <span id="total-price">$9.99/month</span>
                    </div>
                </div>

                <div id="checkout-section">
                    <button onclick="showCheckout()" class="w-full mt-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-lg font-semibold hover:opacity-90">
                        Continue to Payment
                    </button>
                </div>

                <div id="payment-form" class="mt-6 hidden">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="your.email@example.com">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cardholder Name</label>
                            <input type="text" id="cardholder-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="John Doe">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Card Number</label>
                            <div class="relative">
                                <input type="text" id="card-number" class="w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="1234 5678 9012 3456" maxlength="19">
                                <svg class="absolute right-3 top-2.5 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z"/>
                                    <path d="M2 8h16v2H2z"/>
                                </svg>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Expiry Date</label>
                                <input type="text" id="expiry" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">CVV</label>
                                <input type="text" id="cvv" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="123" maxlength="4">
                            </div>
                        </div>
                    </div>
                    
                    <div id="error-message" class="hidden mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-700"></div>

                    <button onclick="processPayment()" id="payment-btn" class="w-full mt-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-lg font-semibold hover:opacity-90 flex items-center justify-center">
                        Start Your Journey
                    </button>
                    
                    <div class="text-xs text-gray-500 text-center mt-4">
                        This is a demo form. In production, this would integrate with Stripe's secure payment processing.
                    </div>
                </div>
            </div>
        </div>

        <!-- Trust Indicators -->
        <div class="text-center mt-12">
            <div class="flex justify-center items-center space-x-8 text-gray-500">
                <div>üîí 256-bit SSL Encryption</div>
                <div>üí≥ Stripe Secure Payments</div>
                <div>‚Ü©Ô∏è 30-day Money Back Guarantee</div>
            </div>
        </div>
    </div>

    <script>
        let currentPlan = {
            id: 'reflection-mode',
            name: 'Reflection Mode',
            price: 9.99
        };
        let selectedAddOns = [];
        let selectedBundle = null;
        let currentDiscount = '';

        const PRICING_TIERS = {
            'free': { name: 'Free Trial', price: 0 },
            'warm-depths': { name: 'Warm Depths', price: 4.99 },
            'reflection-mode': { name: 'Reflection Mode', price: 9.99 },
            'raw-response': { name: 'Raw Response', price: 15.99 },
            'shadow-tier': { name: 'Shadow Tier', price: 21.99 }
        };

        const BUNDLES = {
            'premium-3': { name: 'Premium 3 Bundle', price: 59.99 },
            'premium-4': { name: 'Premium 4 Bundle', price: 69.99 },
            'premium-5': { name: 'Premium 5 Bundle', price: 84.99 }
        };

        const ADDONS = {
            'funny-guy': { name: 'Funny Guy Personality', price: 2.99 },
            'tough-guy': { name: 'Tough Guy Personality', price: 2.99 },
            'ringside-coach': { name: 'Ringside Coach', price: 3.99 },
            'psychosexual': { name: 'Psychosexual Profile', price: 4.99 },
            'relational': { name: 'Relational Profile', price: 4.99 },
            'self-sync': { name: 'Self-Sync Reflection', price: 3.99 }
        };

        function selectTier(tierId) {
            // Remove selection from all cards
            document.querySelectorAll('#pricing-grid > div').forEach(card => {
                card.classList.remove('border-purple-500', 'shadow-lg', 'selected-card');
                card.classList.add('border-gray-200');
                const button = card.querySelector('button');
                button.textContent = 'Choose Plan';
                button.className = 'w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-100 text-gray-900 hover:bg-gray-200';
            });

            // Select clicked card
            event.currentTarget.classList.remove('border-gray-200');
            event.currentTarget.classList.add('border-purple-500', 'shadow-lg', 'selected-card');
            const button = event.currentTarget.querySelector('button');
            button.textContent = 'Selected';
            button.className = 'w-full py-3 px-4 rounded-lg font-semibold transition-colors bg-purple-600 text-white';

            currentPlan = {
                id: tierId,
                ...PRICING_TIERS[tierId]
            };

            selectedBundle = null;
            selectedAddOns = [];
            
            // Show upsells for higher tiers
            if (['reflection-mode', 'raw-response', 'shadow-tier'].includes(tierId)) {
                document.getElementById('premium-bundles').style.display = 'block';
                document.getElementById('addons-section').style.display = 'block';
            }

            updateOrderSummary();
        }

        function selectBundle(bundleId) {
            // Remove selection from all bundle cards
            document.querySelectorAll('#premium-bundles .p-6').forEach(card => {
                card.classList.remove('border-purple-500', 'shadow-lg');
                card.classList.add('border-gray-200');
            });

            // Select clicked bundle
            event.currentTarget.classList.remove('border-gray-200');
            event.currentTarget.classList.add('border-purple-500', 'shadow-lg');

            selectedBundle = {
                id: bundleId,
                ...BUNDLES[bundleId]
            };

            selectedAddOns = [];
            document.getElementById('addons-section').style.display = 'none';
            updateOrderSummary();
        }

        function toggleAddOn(addonId) {
            const addon = ADDONS[addonId];
            const addonIndex = selectedAddOns.findIndex(a => a.id === addonId);
            
            if (addonIndex > -1) {
                selectedAddOns.splice(addonIndex, 1);
                event.currentTarget.classList.remove('selected');
                event.currentTarget.querySelector('input[type="checkbox"]').checked = false;
            } else {
                selectedAddOns.push({ id: addonId, ...addon });
                event.currentTarget.classList.add('selected');
                event.currentTarget.querySelector('input[type="checkbox"]').checked = true;
            }

            updateOrderSummary();
        }

        function toggleDiscount(type) {
            const studentBtn = document.getElementById('student-btn');
            const militaryBtn = document.getElementById('military-btn');

            if (currentDiscount === type) {
                currentDiscount = '';
                studentBtn.className = 'flex items-center px-4 py-2 rounded-full transition-colors bg-blue-100 text-blue-700 hover:bg-blue-200';
                militaryBtn.className = 'flex items-center px-4 py-2 rounded-full transition-colors bg-green-100 text-green-700 hover:bg-green-200';
            } else {
                currentDiscount = type;
                studentBtn.className = type === 'student' 
                    ? 'flex items-center px-4 py-2 rounded-full transition-colors bg-blue-600 text-white'
                    : 'flex items-center px-4 py-2 rounded-full transition-colors bg-blue-100 text-blue-700 hover:bg-blue-200';
                militaryBtn.className = type === 'military'
                    ? 'flex items-center px-4 py-2 rounded-full transition-colors bg-green-600 text-white'
                    : 'flex items-center px-4 py-2 rounded-full transition-colors bg-green-100 text-green-700 hover:bg-green-200';
            }

            updateOrderSummary();
        }

        function updateOrderSummary() {
            const orderItems = document.getElementById('order-items');
            let total = selectedBundle ? selectedBundle.price : currentPlan.price;
            let originalTotal = total;
            
            let itemsHTML = '';
            
            if (selectedBundle) {
                itemsHTML = `<div class="flex justify-between"><span>${selectedBundle.name}</span><span>$${selectedBundle.price}</span></div>`;
            } else {
                itemsHTML = `<div class="flex justify-between"><span>${currentPlan.name}</span><span>$${currentPlan.price}</span></div>`;
                selectedAddOns.forEach(addon => {
                    itemsHTML += `<div class="flex justify-between text-sm text-gray-600"><span>+ ${addon.name}</span><span>$${addon.price}</span></div>`;
                    total += addon.price;
                    originalTotal += addon.price;
                });
            }

            orderItems.innerHTML = itemsHTML;

            // Apply discount
            let discountAmount = 0;
            if (currentDiscount === 'student') {
                discountAmount = originalTotal * 0.2;
                total *= 0.8;
            } else if (currentDiscount === 'military') {
                discountAmount = originalTotal * 0.25;
                total *= 0.75;
            }

            const discountLine = document.getElementById('discount-line');
            if (currentDiscount) {
                document.getElementById('discount-type').textContent = currentDiscount === 'student' ? 'Student Discount' : 'Military Discount';
                document.getElementById('discount-amount').textContent = `-$${discountAmount.toFixed(2)}`;
                discountLine.classList.remove('hidden');
            } else {
                discountLine.classList.add('hidden');
            }

            document.getElementById('total-price').textContent = `$${total.toFixed(2)}/month`;
        }

        function showCheckout() {
            document.getElementById('checkout-section').style.display = 'none';
            document.getElementById('payment-form').classList.remove('hidden');
        }

        function formatCardNumber(value) {
            const v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            const matches = v.match(/\d{4,16}/g);
            const match = matches && matches[0] || '';
            const parts = [];
            for (let i = 0, len = match.length; i < len; i += 4) {
                parts.push(match.substring(i, i + 4));
            }
            if (parts.length) {
                return parts.join(' ');
            } else {
                return v;
            }
        }

        function formatExpiryDate(value) {
            const v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            if (v.length >= 2) {
                return v.substring(0, 2) + (v.length > 2 ? '/' + v.substring(2, 4) : '');
            }
            return v;
        }

        // Add input formatting
        document.addEventListener('DOMContentLoaded', function() {
            const cardInput = document.getElementById('card-number');
            const expiryInput = document.getElementById('expiry');
            const cvvInput = document.getElementById('cvv');

            cardInput.addEventListener('input', function(e) {
                e.target.value = formatCardNumber(e.target.value);
            });

            expiryInput.addEventListener('input', function(e) {
                e.target.value = formatExpiryDate(e.target.value);
            });

            cvvInput.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/[^0-9]/g, '').substring(0, 4);
            });

            // Show upsells after 3 seconds
            setTimeout(() => {
                document.getElementById('premium-bundles').style.display = 'block';
                document.getElementById('addons-section').style.display = 'block';
            }, 3000);
        });

        function processPayment() {
            const email = document.getElementById('email').value;
            const name = document.getElementById('cardholder-name').value;
            const cardNumber = document.getElementById('card-number').value;
            const expiry = document.getElementById('expiry').value;
            const cvv = document.getElementById('cvv').value;

            const errorDiv = document.getElementById('error-message');
            
            if (!email || !name || !cardNumber || !expiry || !cvv) {
                errorDiv.textContent = 'Please fill in all fields';
                errorDiv.classList.remove('hidden');
                return;
            }

            errorDiv.classList.add('hidden');
            
            const paymentBtn = document.getElementById('payment-btn');
            paymentBtn.innerHTML = `
                <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div>
                Processing...
            `;
            paymentBtn.disabled = true;

            setTimeout(() => {
                alert('üéâ Welcome to TogetherWe! Check your email for next steps.');
                paymentBtn.innerHTML = 'Start Your Journey';
                paymentBtn.disabled = false;
                document.getElementById('payment-form').classList.add('hidden');
                document.getElementById('checkout-section').style.display = 'block';
            }, 2000);
        }

        // Initialize
        updateOrderSummary();
    </script>
</body>
</html>